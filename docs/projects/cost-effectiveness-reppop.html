<!DOCTYPE html>
<html xmlns="http://www.w3.org/1999/xhtml" lang="en" xml:lang="en"><head>

<meta charset="utf-8">
<meta name="generator" content="quarto-1.5.57">

<meta name="viewport" content="width=device-width, initial-scale=1.0, user-scalable=yes">

<meta name="author" content="Ousmane Diallo">
<meta name="dcterms.date" content="2025-11-10">
<meta name="keywords" content="biostatistics, epidemiology, health data science, SAS programming, CDISC standards, clinical trials, real-world evidence">
<meta name="description" content="Biostatistician &amp; Epidemiologist specializing in health data analytics, statistical modeling, large-scale data management, and clinical research.">

<title>Cost-Effectiveness of the REPPOP Pediatric Obesity Management Program – Ousmane Diallo, MPH-PhD</title>
<style>
code{white-space: pre-wrap;}
span.smallcaps{font-variant: small-caps;}
div.columns{display: flex; gap: min(4vw, 1.5em);}
div.column{flex: auto; overflow-x: auto;}
div.hanging-indent{margin-left: 1.5em; text-indent: -1.5em;}
ul.task-list{list-style: none;}
ul.task-list li input[type="checkbox"] {
  width: 0.8em;
  margin: 0 0.8em 0.2em -1em; /* quarto-specific, see https://github.com/quarto-dev/quarto-cli/issues/4556 */ 
  vertical-align: middle;
}
/* CSS for syntax highlighting */
pre > code.sourceCode { white-space: pre; position: relative; }
pre > code.sourceCode > span { line-height: 1.25; }
pre > code.sourceCode > span:empty { height: 1.2em; }
.sourceCode { overflow: visible; }
code.sourceCode > span { color: inherit; text-decoration: inherit; }
div.sourceCode { margin: 1em 0; }
pre.sourceCode { margin: 0; }
@media screen {
div.sourceCode { overflow: auto; }
}
@media print {
pre > code.sourceCode { white-space: pre-wrap; }
pre > code.sourceCode > span { display: inline-block; text-indent: -5em; padding-left: 5em; }
}
pre.numberSource code
  { counter-reset: source-line 0; }
pre.numberSource code > span
  { position: relative; left: -4em; counter-increment: source-line; }
pre.numberSource code > span > a:first-child::before
  { content: counter(source-line);
    position: relative; left: -1em; text-align: right; vertical-align: baseline;
    border: none; display: inline-block;
    -webkit-touch-callout: none; -webkit-user-select: none;
    -khtml-user-select: none; -moz-user-select: none;
    -ms-user-select: none; user-select: none;
    padding: 0 4px; width: 4em;
  }
pre.numberSource { margin-left: 3em;  padding-left: 4px; }
div.sourceCode
  {   }
@media screen {
pre > code.sourceCode > span > a:first-child::before { text-decoration: underline; }
}
</style>


<script src="../site_libs/quarto-nav/quarto-nav.js"></script>
<script src="../site_libs/clipboard/clipboard.min.js"></script>
<script src="../site_libs/quarto-search/autocomplete.umd.js"></script>
<script src="../site_libs/quarto-search/fuse.min.js"></script>
<script src="../site_libs/quarto-search/quarto-search.js"></script>
<meta name="quarto:offset" content="../">
<link href="../images/favicon.jpg" rel="icon" type="image/jpeg">
<script src="../site_libs/quarto-html/quarto.js"></script>
<script src="../site_libs/quarto-html/popper.min.js"></script>
<script src="../site_libs/quarto-html/tippy.umd.min.js"></script>
<script src="../site_libs/quarto-html/anchor.min.js"></script>
<link href="../site_libs/quarto-html/tippy.css" rel="stylesheet">
<link href="../site_libs/quarto-html/quarto-syntax-highlighting.css" rel="stylesheet" id="quarto-text-highlighting-styles">
<script src="../site_libs/bootstrap/bootstrap.min.js"></script>
<link href="../site_libs/bootstrap/bootstrap-icons.css" rel="stylesheet">
<link href="../site_libs/bootstrap/bootstrap.min.css" rel="stylesheet" id="quarto-bootstrap" data-mode="light">
<script id="quarto-search-options" type="application/json">{
  "location": "navbar",
  "copy-button": false,
  "collapse-after": 3,
  "panel-placement": "end",
  "type": "overlay",
  "limit": 50,
  "keyboard-shortcut": [
    "f",
    "/",
    "s"
  ],
  "show-item-context": false,
  "language": {
    "search-no-results-text": "No results",
    "search-matching-documents-text": "matching documents",
    "search-copy-link-title": "Copy link to search",
    "search-hide-matches-text": "Hide additional matches",
    "search-more-match-text": "more match in this document",
    "search-more-matches-text": "more matches in this document",
    "search-clear-button-title": "Clear",
    "search-text-placeholder": "",
    "search-detached-cancel-button-title": "Cancel",
    "search-submit-button-title": "Submit",
    "search-label": "Search"
  }
}</script>

  <script src="https://cdnjs.cloudflare.com/polyfill/v3/polyfill.min.js?features=es6"></script>
  <script src="https://cdn.jsdelivr.net/npm/mathjax@3/es5/tex-chtml-full.js" type="text/javascript"></script>

<script type="text/javascript">
const typesetMath = (el) => {
  if (window.MathJax) {
    // MathJax Typeset
    window.MathJax.typeset([el]);
  } else if (window.katex) {
    // KaTeX Render
    var mathElements = el.getElementsByClassName("math");
    var macros = [];
    for (var i = 0; i < mathElements.length; i++) {
      var texText = mathElements[i].firstChild;
      if (mathElements[i].tagName == "SPAN") {
        window.katex.render(texText.data, mathElements[i], {
          displayMode: mathElements[i].classList.contains('display'),
          throwOnError: false,
          macros: macros,
          fleqn: false
        });
      }
    }
  }
}
window.Quarto = {
  typesetMath
};
</script>

<link rel="stylesheet" href="../assets/css/styles.css">
<link rel="stylesheet" href="../assets/css/remove-keyword.css">
<meta property="og:title" content="Cost-Effectiveness of the REPPOP Pediatric Obesity Management Program – Ousmane Diallo, MPH-PhD">
<meta property="og:description" content="Biostatistician &amp; Epidemiologist specializing in health data analytics, statistical modeling, large-scale data management, and clinical research.">
<meta property="og:image" content="https://ousmanediallo.com/images/bio-photo-2.jpg">
<meta property="og:site_name" content="Ousmane Diallo, MPH-PhD">
<meta name="twitter:title" content="Cost-Effectiveness of the REPPOP Pediatric Obesity Management Program – Ousmane Diallo, MPH-PhD">
<meta name="twitter:description" content="Biostatistician &amp; Epidemiologist specializing in health data analytics, statistical modeling, large-scale data management, and clinical research.">
<meta name="twitter:image" content="https://ousmanediallo.com/images/bio-photo-2.jpg">
<meta name="twitter:card" content="summary_large_image">
</head>

<body class="nav-fixed">

<div id="quarto-search-results"></div>
  <header id="quarto-header" class="headroom fixed-top">
    <nav class="navbar navbar-expand-lg " data-bs-theme="dark">
      <div class="navbar-container container-fluid">
      <div class="navbar-brand-container mx-auto">
    <a class="navbar-brand" href="../index.html">
    <span class="navbar-title">Ousmane Diallo, MPH-PhD</span>
    </a>
  </div>
            <div id="quarto-search" class="" title="Search"></div>
          <button class="navbar-toggler" type="button" data-bs-toggle="collapse" data-bs-target="#navbarCollapse" aria-controls="navbarCollapse" role="menu" aria-expanded="false" aria-label="Toggle navigation" onclick="if (window.quartoToggleHeadroom) { window.quartoToggleHeadroom(); }">
  <span class="navbar-toggler-icon"></span>
</button>
          <div class="collapse navbar-collapse" id="navbarCollapse">
            <ul class="navbar-nav navbar-nav-scroll me-auto">
  <li class="nav-item">
    <a class="nav-link" href="../index.html"> <i class="bi bi-house-door-fill" role="img" aria-label="Home">
</i> 
<span class="menu-text">Home</span></a>
  </li>  
  <li class="nav-item">
    <a class="nav-link" href="../publications.html"> <i class="bi bi-file-earmark-text-fill" role="img">
</i> 
<span class="menu-text">Publications</span></a>
  </li>  
  <li class="nav-item">
    <a class="nav-link" href="../about.html"> <i class="bi bi-person-lines-fill" role="img" aria-label="About">
</i> 
<span class="menu-text">About</span></a>
  </li>  
  <li class="nav-item">
    <a class="nav-link" href="../portfolio.html"> <i class="bi bi-file-earmark-code-fill" role="img" aria-label="Portfolio">
</i> 
<span class="menu-text">Portfolio</span></a>
  </li>  
  <li class="nav-item">
    <a class="nav-link" href="../contact.html"> <i class="bi bi-chat-square-text-fill" role="img" aria-label="Contact">
</i> 
<span class="menu-text">Contact</span></a>
  </li>  
  <li class="nav-item compact">
    <a class="nav-link" href="https://github.com/ousmanerabi" target="_blank"> <i class="bi bi-github" role="img" aria-label="GitHub">
</i> 
<span class="menu-text"></span></a>
  </li>  
  <li class="nav-item compact">
    <a class="nav-link" href="https://linkedin.com/in/ousmane-rabi" target="_blank"> <i class="bi bi-linkedin" role="img" aria-label="LinkedIn">
</i> 
<span class="menu-text"></span></a>
  </li>  
</ul>
          </div> <!-- /navcollapse -->
            <div class="quarto-navbar-tools">
</div>
      </div> <!-- /container-fluid -->
    </nav>
</header>
<!-- content -->
<div id="quarto-content" class="quarto-container page-columns page-rows-contents page-layout-article page-navbar">
<!-- sidebar -->
<!-- margin-sidebar -->
    <div id="quarto-margin-sidebar" class="sidebar margin-sidebar">
        <nav id="TOC" role="doc-toc" class="toc-active">
    <h2 id="toc-title">On this page</h2>
   
  <ul>
  <li><a href="#overview" id="toc-overview" class="nav-link active" data-scroll-target="#overview">Overview</a></li>
  <li><a href="#methodology-framework" id="toc-methodology-framework" class="nav-link" data-scroll-target="#methodology-framework">Methodology Framework</a>
  <ul class="collapse">
  <li><a href="#data-sources" id="toc-data-sources" class="nav-link" data-scroll-target="#data-sources">Data sources</a></li>
  <li><a href="#data-summary" id="toc-data-summary" class="nav-link" data-scroll-target="#data-summary">Data summary</a></li>
  <li><a href="#simulation-of-the-natural-history-of-the-disease-counterfactual" id="toc-simulation-of-the-natural-history-of-the-disease-counterfactual" class="nav-link" data-scroll-target="#simulation-of-the-natural-history-of-the-disease-counterfactual">Simulation of the Natural History of the Disease (counterfactual)</a></li>
  <li><a href="#cost-effectiveness-analysis" id="toc-cost-effectiveness-analysis" class="nav-link" data-scroll-target="#cost-effectiveness-analysis">Cost-Effectiveness Analysis</a></li>
  <li><a href="#efficiency-analysis-long-term-cost-offsets" id="toc-efficiency-analysis-long-term-cost-offsets" class="nav-link" data-scroll-target="#efficiency-analysis-long-term-cost-offsets">Efficiency Analysis (Long-Term Cost Offsets)</a></li>
  </ul></li>
  <li><a href="#results" id="toc-results" class="nav-link" data-scroll-target="#results">Results</a>
  <ul class="collapse">
  <li><a href="#baseline-characteristics" id="toc-baseline-characteristics" class="nav-link" data-scroll-target="#baseline-characteristics">Baseline Characteristics</a></li>
  <li><a href="#simulation-of-the-natural-history-of-obesity" id="toc-simulation-of-the-natural-history-of-obesity" class="nav-link" data-scroll-target="#simulation-of-the-natural-history-of-obesity">Simulation of the Natural History of Obesity</a></li>
  <li><a href="#cost-effectiveness-analysis-1" id="toc-cost-effectiveness-analysis-1" class="nav-link" data-scroll-target="#cost-effectiveness-analysis-1">Cost-Effectiveness Analysis</a></li>
  <li><a href="#efficiency-long-term-cost-offsets" id="toc-efficiency-long-term-cost-offsets" class="nav-link" data-scroll-target="#efficiency-long-term-cost-offsets">Efficiency (Long-Term Cost Offsets)</a></li>
  </ul></li>
  <li><a href="#cost-effectiveness-plane-bootstrap-distribution" id="toc-cost-effectiveness-plane-bootstrap-distribution" class="nav-link" data-scroll-target="#cost-effectiveness-plane-bootstrap-distribution">Cost-Effectiveness Plane (Bootstrap Distribution)</a></li>
  <li><a href="#limitations" id="toc-limitations" class="nav-link" data-scroll-target="#limitations">Limitations</a></li>
  <li><a href="#interpretation-key-takeaways" id="toc-interpretation-key-takeaways" class="nav-link" data-scroll-target="#interpretation-key-takeaways">Interpretation &amp; Key Takeaways</a></li>
  </ul>
</nav>
    </div>
<!-- main -->
<main class="content" id="quarto-document-content">

<header id="title-block-header" class="quarto-title-block default">
<div class="quarto-title">
<h1 class="title">Cost-Effectiveness of the REPPOP Pediatric Obesity Management Program</h1>
</div>

<div>
  <div class="description">
    Biostatistician &amp; Epidemiologist specializing in health data analytics, statistical modeling, large-scale data management, and clinical research.
  </div>
</div>


<div class="quarto-title-meta">

    <div>
    <div class="quarto-title-meta-heading">Author</div>
    <div class="quarto-title-meta-contents">
             <p>Ousmane Diallo </p>
          </div>
  </div>
    
    <div>
    <div class="quarto-title-meta-heading">Published</div>
    <div class="quarto-title-meta-contents">
      <p class="date">November 10, 2025</p>
    </div>
  </div>
  
    
  </div>
  

<div>
  <div class="keywords">
    <div class="block-title">Keywords</div>
    <p>biostatistics, epidemiology, health data science, SAS programming, CDISC standards, clinical trials, real-world evidence</p>
  </div>
</div>

</header>


<section id="overview" class="level2">
<h2 class="anchored" data-anchor-id="overview">Overview</h2>
<p>In the Aquitaine region of France, as part of the Nutrition, Prevention, and Child Health Program—the regional extension of the National Nutrition and Health Program (PNNS) for children and adolescents—a harmonized screening and management approach for pediatric overweight and obesity was developed.</p>
<p>This initiative led to the creation of the REPPOP network (Réseau de Prévention et de Prise en charge de l’Obésité Pédiatrique), an integrated and multidisciplinary care system operating in the Gironde area.</p>
<p>The REPPOP network connects community physicians, hospital practitioners, and public health professionals (including school doctors, nurses, and maternal and child health services) with a central coordination team. Children enrolled in REPPOP receive a two-year multidisciplinary follow-up, including regular medical visits and, when appropriate, nutritional and psychological counseling.</p>
<p>At admission, two inclusion consultations are conducted by the referring REPPOP physician:</p>
<ul>
<li><p><strong>Inclusion visit 1: to exclude organic causes of obesity and detect complications.</strong></p></li>
<li><p><strong>Inclusion visit 2: to establish an educational and behavioral management plan.</strong></p></li>
</ul>
<p>The attending physician and family then define personalized, realistic objectives for the child and determine the most suitable care pathway.</p>
<p>Despite the broad implementation of this coordinated approach, no formal economic evaluation of the REPPOP program had been performed. The objective of this study was therefore to assess the cost-effectiveness of the REPPOP pediatric obesity management strategy compared with no intervention.</p>
<hr>
</section>
<section id="methodology-framework" class="level2">
<h2 class="anchored" data-anchor-id="methodology-framework">Methodology Framework</h2>
<section id="data-sources" class="level3">
<h3 class="anchored" data-anchor-id="data-sources">Data sources</h3>
<p>The primary dataset came from the REPPOP cohort study, which followed children with overweight or obesity over a two-year period. This database was used both to simulate the natural history of obesity prior to intervention and to perform the cost-effectiveness analysis. After excluding children with missing data on social difficulties, those followed for more than 3.5 years, and those older than 12 years at inclusion, 354 children remained for analysis. A second data source was a French national study estimating the medical costs associated with obesity, based on the 2002 Health, Health-Care and Insurance Survey (ESPS) linked to the Permanent Sample of Health Insurance Beneficiaries (EPAS), which was used to model long-term efficiency of the REPPOP strategy.</p>
</section>
<section id="data-summary" class="level3">
<h3 class="anchored" data-anchor-id="data-summary">Data summary</h3>
<p>The REPPOP cohort included <strong>354 children</strong> aged 6–12 years with complete two-year follow-up data.<br>
Baseline and follow-up variables included <strong>age, gender, age at onset of overweight, social difficulties</strong>, and <strong>BMI Z-scores</strong> at inclusion and after two years.<br>
These variables were used to simulate counterfactual BMI trajectories and estimate the program’s incremental cost-effectiveness.</p>
</section>
<section id="simulation-of-the-natural-history-of-the-disease-counterfactual" class="level3">
<h3 class="anchored" data-anchor-id="simulation-of-the-natural-history-of-the-disease-counterfactual">Simulation of the Natural History of the Disease (counterfactual)</h3>
<p>Because no untreated control group was available, a model-based simulation was built to estimate each child’s BMI <em>Z</em>-score trajectory without the REPPOP intervention.<br>
The growth rate (X) was computed from pre-inclusion trajectories (health records) to reflect the natural history prior to intervention.<br>
Data were observed at two time points — <strong>T₀ (baseline)</strong> and <strong>T + 2 years</strong> — including age, gender, social difficulties, and BMI <em>Z</em>-scores.</p>
<p>A <strong>two-step modeling process</strong> was applied:</p>
<ol type="1">
<li>The <strong>two-year growth rate (X)</strong> in BMI <em>Z</em>-score was computed for each child from pre-inclusion data.<br>
</li>
<li>This growth rate was then modeled using a <strong>multiple linear regression</strong>, stratified by age group, with predictors: <em>age at onset of overweight</em>, <em>initial BMI Z-score</em>, <em>social difficulties</em>, and <em>gender</em>.</li>
</ol>
<p>The model can be expressed as:</p>
<p><span class="math display">\[
X_i \;=\; \beta_0 \;+\; \beta_1\,\mathrm{AgeOnset}_i \;+\; \beta_2\,\mathrm{ZBMI}_{i0}
\;+\; \beta_3\,\mathrm{Social}_i \;+\; \beta_4\,\mathrm{Gender}_i \;+\; \varepsilon_i,
\qquad \varepsilon_i \sim \mathcal N(0,\sigma^{2}).
\]</span></p>
<p>To incorporate predictive uncertainty, random residuals were drawn from a normal distribution and added to the predicted growth rates, generating individualized simulated Z-scores:</p>
<p><span class="math display">\[
Z_{i,\mathrm{sim}} \;=\; Z_{i,\mathrm{init}} \;+\; X_{i,\mathrm{sim}}.
\]</span></p>
<p>This approach allowed comparing each child’s <em>observed</em> BMI Z-score trajectory (with REPPOP) to their <em>simulated</em> trajectory (no REPPOP). Note: This linear model assumes normality and linearity; sensitivity analyses (e.g., GAM) could address non-linearities.</p>
<section id="example-of-r-code" class="level4">
<h4 class="anchored" data-anchor-id="example-of-r-code"><strong>Example of R code</strong></h4>
<div class="cell">
<details class="code-fold">
<summary>Model &amp; simulate counterfactual (no REPPOP)</summary>
<div class="sourceCode cell-code" id="cb1"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb1-1"><a href="#cb1-1" aria-hidden="true" tabindex="-1"></a><span class="co"># ============================================================================</span></span>
<span id="cb1-2"><a href="#cb1-2" aria-hidden="true" tabindex="-1"></a><span class="co"># Fit linear regression model for 2-year growth rate</span></span>
<span id="cb1-3"><a href="#cb1-3" aria-hidden="true" tabindex="-1"></a><span class="co"># Framework: X' = β0 + β1*Age + β2*Z0 + β3*Social + β4*Sex + ε</span></span>
<span id="cb1-4"><a href="#cb1-4" aria-hidden="true" tabindex="-1"></a><span class="co"># ============================================================================</span></span>
<span id="cb1-5"><a href="#cb1-5" aria-hidden="true" tabindex="-1"></a>model_gr <span class="ot">&lt;-</span> <span class="fu">lm</span>(growth_rate2 <span class="sc">~</span> age_inc1 <span class="sc">+</span> zbmi_incl <span class="sc">+</span> social <span class="sc">+</span> sex, <span class="at">data =</span> dat)</span>
<span id="cb1-6"><a href="#cb1-6" aria-hidden="true" tabindex="-1"></a><span class="fu">summary</span>(model_gr)</span>
<span id="cb1-7"><a href="#cb1-7" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb1-8"><a href="#cb1-8" aria-hidden="true" tabindex="-1"></a><span class="co"># ============================================================================</span></span>
<span id="cb1-9"><a href="#cb1-9" aria-hidden="true" tabindex="-1"></a><span class="co"># Extract residual standard error (σ̂) for simulating uncertainty</span></span>
<span id="cb1-10"><a href="#cb1-10" aria-hidden="true" tabindex="-1"></a><span class="co"># ============================================================================</span></span>
<span id="cb1-11"><a href="#cb1-11" aria-hidden="true" tabindex="-1"></a>sigma_hat <span class="ot">&lt;-</span> <span class="fu">sqrt</span>(<span class="fu">sum</span>(<span class="fu">residuals</span>(model_gr)<span class="sc">^</span><span class="dv">2</span>) <span class="sc">/</span> model_gr<span class="sc">$</span>df.residual)</span>
<span id="cb1-12"><a href="#cb1-12" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb1-13"><a href="#cb1-13" aria-hidden="true" tabindex="-1"></a><span class="co"># ============================================================================</span></span>
<span id="cb1-14"><a href="#cb1-14" aria-hidden="true" tabindex="-1"></a><span class="co"># Predict growth rate + draw from normal distribution to add uncertainty</span></span>
<span id="cb1-15"><a href="#cb1-15" aria-hidden="true" tabindex="-1"></a><span class="co"># ============================================================================</span></span>
<span id="cb1-16"><a href="#cb1-16" aria-hidden="true" tabindex="-1"></a><span class="fu">set.seed</span>(<span class="dv">123</span>)  <span class="co"># Set seed for reproducibility</span></span>
<span id="cb1-17"><a href="#cb1-17" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb1-18"><a href="#cb1-18" aria-hidden="true" tabindex="-1"></a><span class="co"># Predicted growth rate from model (X̂)</span></span>
<span id="cb1-19"><a href="#cb1-19" aria-hidden="true" tabindex="-1"></a>pred_rate <span class="ot">&lt;-</span> <span class="fu">predict</span>(model_gr, <span class="at">newdata =</span> dat)</span>
<span id="cb1-20"><a href="#cb1-20" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb1-21"><a href="#cb1-21" aria-hidden="true" tabindex="-1"></a><span class="co"># Draw random residuals from normal distribution: ε ~ N(0, σ̂)</span></span>
<span id="cb1-22"><a href="#cb1-22" aria-hidden="true" tabindex="-1"></a>eps_draw <span class="ot">&lt;-</span> <span class="fu">rnorm</span>(<span class="fu">nrow</span>(dat), <span class="at">mean =</span> <span class="dv">0</span>, <span class="at">sd =</span> sigma_hat)</span>
<span id="cb1-23"><a href="#cb1-23" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb1-24"><a href="#cb1-24" aria-hidden="true" tabindex="-1"></a><span class="co"># Simulated growth rate with uncertainty: X_sim = X̂ + ε</span></span>
<span id="cb1-25"><a href="#cb1-25" aria-hidden="true" tabindex="-1"></a>rate_sim <span class="ot">&lt;-</span> pred_rate <span class="sc">+</span> eps_draw</span>
<span id="cb1-26"><a href="#cb1-26" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb1-27"><a href="#cb1-27" aria-hidden="true" tabindex="-1"></a><span class="co"># ============================================================================</span></span>
<span id="cb1-28"><a href="#cb1-28" aria-hidden="true" tabindex="-1"></a><span class="co"># Counterfactual ZBMI at 2 years under "no REPPOP" scenario</span></span>
<span id="cb1-29"><a href="#cb1-29" aria-hidden="true" tabindex="-1"></a><span class="co"># ============================================================================</span></span>
<span id="cb1-30"><a href="#cb1-30" aria-hidden="true" tabindex="-1"></a>zbmi_cf <span class="ot">&lt;-</span> dat<span class="sc">$</span>zbmi_incl <span class="sc">+</span> rate_sim</span>
<span id="cb1-31"><a href="#cb1-31" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb1-32"><a href="#cb1-32" aria-hidden="true" tabindex="-1"></a><span class="co"># ============================================================================</span></span>
<span id="cb1-33"><a href="#cb1-33" aria-hidden="true" tabindex="-1"></a><span class="co"># Individual and mean incremental effectiveness</span></span>
<span id="cb1-34"><a href="#cb1-34" aria-hidden="true" tabindex="-1"></a><span class="co"># ============================================================================</span></span>
<span id="cb1-35"><a href="#cb1-35" aria-hidden="true" tabindex="-1"></a><span class="co"># ΔE_i = Z_noTx(2y) - Z_obs(2y)</span></span>
<span id="cb1-36"><a href="#cb1-36" aria-hidden="true" tabindex="-1"></a><span class="co"># Positive value = improvement due to REPPOP intervention</span></span>
<span id="cb1-37"><a href="#cb1-37" aria-hidden="true" tabindex="-1"></a>deltaE_i <span class="ot">&lt;-</span> zbmi_cf <span class="sc">-</span> dat<span class="sc">$</span>zbmi_last</span>
<span id="cb1-38"><a href="#cb1-38" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb1-39"><a href="#cb1-39" aria-hidden="true" tabindex="-1"></a><span class="co"># Mean incremental effectiveness (average treatment effect)</span></span>
<span id="cb1-40"><a href="#cb1-40" aria-hidden="true" tabindex="-1"></a>DeltaE_mean <span class="ot">&lt;-</span> <span class="fu">mean</span>(deltaE_i, <span class="at">na.rm =</span> <span class="cn">TRUE</span>)</span>
<span id="cb1-41"><a href="#cb1-41" aria-hidden="true" tabindex="-1"></a>DeltaE_mean</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</details>
</div>
</section>
</section>
<section id="cost-effectiveness-analysis" class="level3">
<h3 class="anchored" data-anchor-id="cost-effectiveness-analysis">Cost-Effectiveness Analysis</h3>
<p>The cost-effectiveness model was conducted from the payer perspective (French national health insurance). In line with recommendations from the Haute Autorité de Santé (HAS), the therapeutic goal in children is not weight loss but rather stabilization or deceleration of BMI growth.</p>
<p>Accordingly, two measures of effectiveness were used:</p>
<ul>
<li><p>a normative criterion — stabilization of BMI Z-score (no increase), and</p></li>
<li><p>a quantitative criterion — the cost per one-unit reduction in BMI Z-score over two years.</p></li>
</ul>
<p>Only direct medical costs were included in the analysis, covering physician, dietitian, psychologist, and inclusion consultations. All costs were expressed in euros (€) and not discounted, given the short (two-year) time horizon of the REPPOP intervention. Costs reflect 2025 tariffs (inflated ~20% from original estimates to account for healthcare inflation).</p>
<p>The incremental cost-effectiveness ratio (ICER) was computed as the difference in mean costs divided by the difference in mean effects between the REPPOP intervention and the “no-intervention” simulated scenario:</p>
<p><span class="math display">\[
ICER \;=\; \frac{\Delta C}{\Delta E}
\]</span></p>
<p>where ΔC is the incremental cost and ΔE the incremental effectiveness (reduction in BMI Z-score).</p>
<section id="r-code" class="level4">
<h4 class="anchored" data-anchor-id="r-code"><strong>R code</strong></h4>
<div class="cell">
<details class="code-fold">
<summary>Cost-Effectiveness Analysis</summary>
<div class="sourceCode cell-code" id="cb2"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb2-1"><a href="#cb2-1" aria-hidden="true" tabindex="-1"></a><span class="co"># ============================================================================</span></span>
<span id="cb2-2"><a href="#cb2-2" aria-hidden="true" tabindex="-1"></a><span class="co"># Calculate ICER (Incremental Cost-Effectiveness Ratio)</span></span>
<span id="cb2-3"><a href="#cb2-3" aria-hidden="true" tabindex="-1"></a><span class="co"># ============================================================================</span></span>
<span id="cb2-4"><a href="#cb2-4" aria-hidden="true" tabindex="-1"></a><span class="co"># Mean cost per child over 2 years (EUR)</span></span>
<span id="cb2-5"><a href="#cb2-5" aria-hidden="true" tabindex="-1"></a>mean_cost <span class="ot">&lt;-</span> <span class="fl">440.51</span></span>
<span id="cb2-6"><a href="#cb2-6" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb2-7"><a href="#cb2-7" aria-hidden="true" tabindex="-1"></a><span class="co"># Point estimate of ICER: Cost per unit of effectiveness gained</span></span>
<span id="cb2-8"><a href="#cb2-8" aria-hidden="true" tabindex="-1"></a>ICER_point <span class="ot">&lt;-</span> mean_cost <span class="sc">/</span> DeltaE_mean</span>
<span id="cb2-9"><a href="#cb2-9" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb2-10"><a href="#cb2-10" aria-hidden="true" tabindex="-1"></a><span class="co"># Confidence interval for ICER</span></span>
<span id="cb2-11"><a href="#cb2-11" aria-hidden="true" tabindex="-1"></a><span class="co"># Note: Division inverts the CI bounds</span></span>
<span id="cb2-12"><a href="#cb2-12" aria-hidden="true" tabindex="-1"></a>ICER_CI <span class="ot">&lt;-</span> mean_cost <span class="sc">/</span> ci_DeltaE</span>
<span id="cb2-13"><a href="#cb2-13" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb2-14"><a href="#cb2-14" aria-hidden="true" tabindex="-1"></a><span class="co"># Display results</span></span>
<span id="cb2-15"><a href="#cb2-15" aria-hidden="true" tabindex="-1"></a><span class="fu">list</span>(</span>
<span id="cb2-16"><a href="#cb2-16" aria-hidden="true" tabindex="-1"></a>  <span class="at">N =</span> n,                      <span class="co"># Sample size</span></span>
<span id="cb2-17"><a href="#cb2-17" aria-hidden="true" tabindex="-1"></a>  <span class="at">DeltaE_mean =</span> DeltaE_mean,  <span class="co"># Mean incremental effectiveness (point estimate)</span></span>
<span id="cb2-18"><a href="#cb2-18" aria-hidden="true" tabindex="-1"></a>  <span class="at">DeltaE_CI =</span> ci_DeltaE,      <span class="co"># 95% CI for incremental effectiveness</span></span>
<span id="cb2-19"><a href="#cb2-19" aria-hidden="true" tabindex="-1"></a>  <span class="at">ICER =</span> ICER_point,          <span class="co"># Point estimate of ICER (EUR per unit ΔZ)</span></span>
<span id="cb2-20"><a href="#cb2-20" aria-hidden="true" tabindex="-1"></a>  <span class="at">ICER_CI =</span> ICER_CI           <span class="co"># 95% CI for ICER</span></span>
<span id="cb2-21"><a href="#cb2-21" aria-hidden="true" tabindex="-1"></a>)</span>
<span id="cb2-22"><a href="#cb2-22" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb2-23"><a href="#cb2-23" aria-hidden="true" tabindex="-1"></a><span class="co"># ============================================================================</span></span>
<span id="cb2-24"><a href="#cb2-24" aria-hidden="true" tabindex="-1"></a><span class="co"># Cost-Effectiveness Plane</span></span>
<span id="cb2-25"><a href="#cb2-25" aria-hidden="true" tabindex="-1"></a><span class="co"># ============================================================================</span></span>
<span id="cb2-26"><a href="#cb2-26" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb2-27"><a href="#cb2-27" aria-hidden="true" tabindex="-1"></a><span class="fu">plot</span>(</span>
<span id="cb2-28"><a href="#cb2-28" aria-hidden="true" tabindex="-1"></a>  boot_DeltaE,                      <span class="co"># ΔE on x-axis (effectiveness)</span></span>
<span id="cb2-29"><a href="#cb2-29" aria-hidden="true" tabindex="-1"></a>  <span class="sc">-</span>boot_DeltaE <span class="sc">*</span> mean_cost,         <span class="co"># ΔC positive = more expensive</span></span>
<span id="cb2-30"><a href="#cb2-30" aria-hidden="true" tabindex="-1"></a>  <span class="at">pch =</span> <span class="dv">19</span>, </span>
<span id="cb2-31"><a href="#cb2-31" aria-hidden="true" tabindex="-1"></a>  <span class="at">col =</span> <span class="fu">rgb</span>(<span class="fl">0.2</span>, <span class="fl">0.4</span>, <span class="fl">0.9</span>, <span class="fl">0.4</span>),</span>
<span id="cb2-32"><a href="#cb2-32" aria-hidden="true" tabindex="-1"></a>  <span class="at">xlab =</span> <span class="fu">expression</span>(Delta<span class="sc">*</span>E[<span class="st">"Effectiveness"</span>]),</span>
<span id="cb2-33"><a href="#cb2-33" aria-hidden="true" tabindex="-1"></a>  <span class="at">ylab =</span> <span class="fu">expression</span>(Delta<span class="sc">*</span>C[<span class="st">"Cost (€)"</span>]),</span>
<span id="cb2-34"><a href="#cb2-34" aria-hidden="true" tabindex="-1"></a>  <span class="at">main =</span> <span class="st">"Bootstrap Cost-Effectiveness Plane"</span></span>
<span id="cb2-35"><a href="#cb2-35" aria-hidden="true" tabindex="-1"></a>)</span>
<span id="cb2-36"><a href="#cb2-36" aria-hidden="true" tabindex="-1"></a><span class="co"># Add reference lines at zero</span></span>
<span id="cb2-37"><a href="#cb2-37" aria-hidden="true" tabindex="-1"></a><span class="fu">abline</span>(<span class="at">h =</span> <span class="dv">0</span>, <span class="at">v =</span> <span class="dv">0</span>, <span class="at">lty =</span> <span class="dv">2</span>)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</details>
</div>
</section>
<section id="uncertainty-analysis" class="level4">
<h4 class="anchored" data-anchor-id="uncertainty-analysis"><strong>Uncertainty Analysis</strong></h4>
<p>To account for sampling uncertainty, a non-parametric bootstrap method was applied with 10,000 replications. In each bootstrap sample, mean costs and mean effects were recalculated, and the ICER was recomputed. The 95% confidence interval for the ICER was derived using the percentile method, by discarding the lowest and highest 2.5% of simulated ICER values.</p>
<p>This approach is recommended when no strong assumptions can be made regarding the distribution of incremental costs and effects. The resulting bootstrap replications were plotted on the cost-effectiveness (CE) plane, illustrating the joint uncertainty around the incremental cost and incremental effectiveness estimates. Alternative methods (e.g., Fieller) could address ratio correlations.</p>
<div class="cell">
<details class="code-fold">
<summary>Non-parametric bootstrap</summary>
<div class="sourceCode cell-code" id="cb3"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb3-1"><a href="#cb3-1" aria-hidden="true" tabindex="-1"></a><span class="co"># ICER and uncertainty estimation via non-parametric bootstrap</span></span>
<span id="cb3-2"><a href="#cb3-2" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb3-3"><a href="#cb3-3" aria-hidden="true" tabindex="-1"></a><span class="fu">set.seed</span>(<span class="dv">2025</span>)  <span class="co"># Set seed for reproducibility</span></span>
<span id="cb3-4"><a href="#cb3-4" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb3-5"><a href="#cb3-5" aria-hidden="true" tabindex="-1"></a>B <span class="ot">&lt;-</span> <span class="dv">10000</span>L     <span class="co"># Number of bootstrap replicates</span></span>
<span id="cb3-6"><a href="#cb3-6" aria-hidden="true" tabindex="-1"></a>n <span class="ot">&lt;-</span> <span class="fu">nrow</span>(dat)  <span class="co"># Sample size</span></span>
<span id="cb3-7"><a href="#cb3-7" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb3-8"><a href="#cb3-8" aria-hidden="true" tabindex="-1"></a><span class="co"># Perform bootstrap resampling to estimate uncertainty in ΔE</span></span>
<span id="cb3-9"><a href="#cb3-9" aria-hidden="true" tabindex="-1"></a>boot_DeltaE <span class="ot">&lt;-</span> <span class="fu">replicate</span>(B, {</span>
<span id="cb3-10"><a href="#cb3-10" aria-hidden="true" tabindex="-1"></a>  <span class="co"># Draw bootstrap sample with replacement</span></span>
<span id="cb3-11"><a href="#cb3-11" aria-hidden="true" tabindex="-1"></a>  idx <span class="ot">&lt;-</span> <span class="fu">sample.int</span>(n, <span class="at">size =</span> n, <span class="at">replace =</span> <span class="cn">TRUE</span>)</span>
<span id="cb3-12"><a href="#cb3-12" aria-hidden="true" tabindex="-1"></a>  </span>
<span id="cb3-13"><a href="#cb3-13" aria-hidden="true" tabindex="-1"></a>  <span class="co"># Re-simulate residuals (ε) for each bootstrap iteration</span></span>
<span id="cb3-14"><a href="#cb3-14" aria-hidden="true" tabindex="-1"></a>  <span class="co"># This propagates predictive uncertainty into the estimates</span></span>
<span id="cb3-15"><a href="#cb3-15" aria-hidden="true" tabindex="-1"></a>  eps_b <span class="ot">&lt;-</span> <span class="fu">rnorm</span>(<span class="fu">length</span>(idx), <span class="at">mean =</span> <span class="dv">0</span>, <span class="at">sd =</span> sigma_hat)</span>
<span id="cb3-16"><a href="#cb3-16" aria-hidden="true" tabindex="-1"></a>  </span>
<span id="cb3-17"><a href="#cb3-17" aria-hidden="true" tabindex="-1"></a>  <span class="co"># Calculate simulated growth rate for bootstrap sample</span></span>
<span id="cb3-18"><a href="#cb3-18" aria-hidden="true" tabindex="-1"></a>  rate_b <span class="ot">&lt;-</span> <span class="fu">predict</span>(model_gr, <span class="at">newdata =</span> dat[idx, ]) <span class="sc">+</span> eps_b</span>
<span id="cb3-19"><a href="#cb3-19" aria-hidden="true" tabindex="-1"></a>  </span>
<span id="cb3-20"><a href="#cb3-20" aria-hidden="true" tabindex="-1"></a>  <span class="co"># Compute counterfactual Z-score at 2 years (no treatment scenario)</span></span>
<span id="cb3-21"><a href="#cb3-21" aria-hidden="true" tabindex="-1"></a>  zbmi_cf_b <span class="ot">&lt;-</span> dat<span class="sc">$</span>zbmi_incl[idx] <span class="sc">+</span> rate_b</span>
<span id="cb3-22"><a href="#cb3-22" aria-hidden="true" tabindex="-1"></a>  </span>
<span id="cb3-23"><a href="#cb3-23" aria-hidden="true" tabindex="-1"></a>  <span class="co"># Calculate mean incremental effectiveness for this bootstrap sample</span></span>
<span id="cb3-24"><a href="#cb3-24" aria-hidden="true" tabindex="-1"></a>  <span class="co"># ΔE = Z_counterfactual - Z_observed (positive = beneficial effect)</span></span>
<span id="cb3-25"><a href="#cb3-25" aria-hidden="true" tabindex="-1"></a>  <span class="fu">mean</span>(zbmi_cf_b <span class="sc">-</span> dat<span class="sc">$</span>zbmi_last[idx], <span class="at">na.rm =</span> <span class="cn">TRUE</span>)</span>
<span id="cb3-26"><a href="#cb3-26" aria-hidden="true" tabindex="-1"></a>})</span>
<span id="cb3-27"><a href="#cb3-27" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb3-28"><a href="#cb3-28" aria-hidden="true" tabindex="-1"></a><span class="co"># Calculate 95% confidence interval for incremental effectiveness</span></span>
<span id="cb3-29"><a href="#cb3-29" aria-hidden="true" tabindex="-1"></a>ci_DeltaE <span class="ot">&lt;-</span> <span class="fu">quantile</span>(boot_DeltaE, <span class="fu">c</span>(<span class="fl">0.025</span>, <span class="fl">0.975</span>), <span class="at">na.rm =</span> <span class="cn">TRUE</span>)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</details>
</div>
</section>
</section>
<section id="efficiency-analysis-long-term-cost-offsets" class="level3">
<h3 class="anchored" data-anchor-id="efficiency-analysis-long-term-cost-offsets">Efficiency Analysis (Long-Term Cost Offsets)</h3>
<p>To estimate the long-term cost savings associated with the REPPOP intervention, we used updated data from the 2024 Asterès study assessing the medical costs attributable to obesity in France (total direct medical ~8 Md€, excess per obese ~1,200€ annually). This provides national estimates of annual direct medical costs associated with obesity, used here to extrapolate the future costs avoided through the REPPOP program.</p>
<p>Assumptions were made regarding the percentage of obesity cases prevented by the intervention and the discount rate applied to future costs. We assumed that 16% of obesity cases were avoided among REPPOP participants, and annual costs were discounted at 2% and 4%, consistent with French health-economic guidelines. Sensitivity: Horizons extended; persistence of effect assumed (supported by 2019 REPPOP long-term data)..</p>
<section id="number-of-obesity-cases-prevented" class="level4">
<h4 class="anchored" data-anchor-id="number-of-obesity-cases-prevented"><strong>Number of Obesity Cases Prevented</strong></h4>
<p>The proportion of obesity cases prevented after two years of REPPOP care was calculated as:</p>
<p><span class="math display">\[
\text{Obesity Prevented (\%)} \;=\;
\frac{N_{\mathrm{obese,\;simulated}} - N_{\mathrm{obese,\;REPPOP}}}
     {N_{\mathrm{obese,\;simulated}}}
\times 100
\]</span></p>
<p>where (N_{}) is the number of children classified as obese at 2 years in the no-intervention (counterfactual) simulation, and (N_{}) is the number observed after REPPOP care.</p>
</section>
<section id="discounted-cost-savings" class="level4">
<h4 class="anchored" data-anchor-id="discounted-cost-savings"><strong>Discounted Cost Savings</strong></h4>
<p>The present value (PV) of avoided obesity-related costs was computed as:</p>
<p><strong>Simple (T-year horizon):</strong> <span class="math display">\[
PV \;=\; \sum_{t=1}^{T} \frac{p \times C}{(1+r)^{t}}
\]</span></p>
<p><strong>Age-based (benefits from age (a_s) to (a_e), intervention at age (a_0)):</strong> <span class="math display">\[
PV \;=\; \sum_{a=a_s}^{a_e-1} \frac{p \times C}{(1+r)^{\,a - a_0}}
\]</span></p>
<p>with:</p>
<ul>
<li><p>(p): proportion of obesity cases prevented (e.g., (16%) () use (p=0.16)),</p></li>
<li><p>(C): mean <strong>annual</strong> direct medical cost of obesity (updated to 1,200€, 2024),</p></li>
<li><p>(r): annual discount rate (e.g., (0.02) or (0.04)),</p></li>
<li><p>(T): number of years of accrual (simple form),</p></li>
<li><p>(a_0): age at intervention start, (a_s): benefit start age, (a_e): benefit end age (age-based form).</p></li>
</ul>
<p>This calculation provides an estimate of the discounted long-term cost offsets achieved through the REPPOP program, based on its short-term effectiveness in reducing pediatric obesity.</p>
<div class="cell">
<details class="code-fold">
<summary>Efficiency-longterm</summary>
<div class="sourceCode cell-code" id="cb4"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb4-1"><a href="#cb4-1" aria-hidden="true" tabindex="-1"></a><span class="co"># ============================================================================</span></span>
<span id="cb4-2"><a href="#cb4-2" aria-hidden="true" tabindex="-1"></a><span class="co"># Calculate long-term cost offsets using present value (PV)</span></span>
<span id="cb4-3"><a href="#cb4-3" aria-hidden="true" tabindex="-1"></a><span class="co"># ============================================================================</span></span>
<span id="cb4-4"><a href="#cb4-4" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb4-5"><a href="#cb4-5" aria-hidden="true" tabindex="-1"></a><span class="co"># Function to compute present value of avoided future costs</span></span>
<span id="cb4-6"><a href="#cb4-6" aria-hidden="true" tabindex="-1"></a><span class="co"># p: probability of avoiding obesity case</span></span>
<span id="cb4-7"><a href="#cb4-7" aria-hidden="true" tabindex="-1"></a><span class="co"># C: annual direct medical cost of obesity (EUR)</span></span>
<span id="cb4-8"><a href="#cb4-8" aria-hidden="true" tabindex="-1"></a><span class="co"># r: discount rate (annual)</span></span>
<span id="cb4-9"><a href="#cb4-9" aria-hidden="true" tabindex="-1"></a><span class="co"># a0: current age (baseline)</span></span>
<span id="cb4-10"><a href="#cb4-10" aria-hidden="true" tabindex="-1"></a><span class="co"># a_start: age when cost savings begin</span></span>
<span id="cb4-11"><a href="#cb4-11" aria-hidden="true" tabindex="-1"></a><span class="co"># a_end: age when cost savings end</span></span>
<span id="cb4-12"><a href="#cb4-12" aria-hidden="true" tabindex="-1"></a><span class="co"># ============================================================================</span></span>
<span id="cb4-13"><a href="#cb4-13" aria-hidden="true" tabindex="-1"></a><span class="co"># Long-term cost offsets: Present value of avoided obesity costs</span></span>
<span id="cb4-14"><a href="#cb4-14" aria-hidden="true" tabindex="-1"></a><span class="co"># ============================================================================</span></span>
<span id="cb4-15"><a href="#cb4-15" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb4-16"><a href="#cb4-16" aria-hidden="true" tabindex="-1"></a><span class="co"># Function to compute present value of avoided future costs</span></span>
<span id="cb4-17"><a href="#cb4-17" aria-hidden="true" tabindex="-1"></a><span class="co"># Based on age-based discounting formula from methods section</span></span>
<span id="cb4-18"><a href="#cb4-18" aria-hidden="true" tabindex="-1"></a>pv_avoided <span class="ot">&lt;-</span> <span class="cf">function</span>(p, C, r, a0, a_start, a_end) {</span>
<span id="cb4-19"><a href="#cb4-19" aria-hidden="true" tabindex="-1"></a>  <span class="co"># Age-based formula: PV = Σ [p × C / (1+r)^(a - a0)]</span></span>
<span id="cb4-20"><a href="#cb4-20" aria-hidden="true" tabindex="-1"></a>  <span class="co"># where a ranges from a_start to a_end-1</span></span>
<span id="cb4-21"><a href="#cb4-21" aria-hidden="true" tabindex="-1"></a>  years <span class="ot">&lt;-</span> a_start<span class="sc">:</span>(a_end <span class="sc">-</span> <span class="dv">1</span>)</span>
<span id="cb4-22"><a href="#cb4-22" aria-hidden="true" tabindex="-1"></a>  <span class="fu">sum</span>(p <span class="sc">*</span> C <span class="sc">/</span> ((<span class="dv">1</span> <span class="sc">+</span> r)<span class="sc">^</span>(years <span class="sc">-</span> a0)))</span>
<span id="cb4-23"><a href="#cb4-23" aria-hidden="true" tabindex="-1"></a>}</span>
<span id="cb4-24"><a href="#cb4-24" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb4-25"><a href="#cb4-25" aria-hidden="true" tabindex="-1"></a><span class="co"># ============================================================================</span></span>
<span id="cb4-26"><a href="#cb4-26" aria-hidden="true" tabindex="-1"></a><span class="co"># Parameters from methods section</span></span>
<span id="cb4-27"><a href="#cb4-27" aria-hidden="true" tabindex="-1"></a><span class="co"># ============================================================================</span></span>
<span id="cb4-28"><a href="#cb4-28" aria-hidden="true" tabindex="-1"></a><span class="co"># Proportion of obesity cases prevented after 2 years of REPPOP</span></span>
<span id="cb4-29"><a href="#cb4-29" aria-hidden="true" tabindex="-1"></a>p <span class="ot">&lt;-</span> <span class="fl">0.16</span>    <span class="co"># 16% obesity prevention rate</span></span>
<span id="cb4-30"><a href="#cb4-30" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb4-31"><a href="#cb4-31" aria-hidden="true" tabindex="-1"></a><span class="co"># Mean annual direct medical cost of obesity (EUR)</span></span>
<span id="cb4-32"><a href="#cb4-32" aria-hidden="true" tabindex="-1"></a><span class="co"># Source: French national obesity cost study (ESPS + EPAS data)</span></span>
<span id="cb4-33"><a href="#cb4-33" aria-hidden="true" tabindex="-1"></a>C <span class="ot">&lt;-</span> <span class="dv">1200</span>     </span>
<span id="cb4-34"><a href="#cb4-34" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb4-35"><a href="#cb4-35" aria-hidden="true" tabindex="-1"></a><span class="co"># Baseline age at intervention start (years)</span></span>
<span id="cb4-36"><a href="#cb4-36" aria-hidden="true" tabindex="-1"></a>a0 <span class="ot">&lt;-</span> <span class="fu">mean</span>(dat<span class="sc">$</span>age_inc1, <span class="at">na.rm =</span> <span class="cn">TRUE</span>)  <span class="co"># Mean age at inclusion 8.2</span></span>
<span id="cb4-37"><a href="#cb4-37" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb4-38"><a href="#cb4-38" aria-hidden="true" tabindex="-1"></a><span class="co"># ============================================================================</span></span>
<span id="cb4-39"><a href="#cb4-39" aria-hidden="true" tabindex="-1"></a><span class="co"># Scenario analysis: Multiple time horizons and discount rates</span></span>
<span id="cb4-40"><a href="#cb4-40" aria-hidden="true" tabindex="-1"></a><span class="co"># ============================================================================</span></span>
<span id="cb4-41"><a href="#cb4-41" aria-hidden="true" tabindex="-1"></a>scenarios <span class="ot">&lt;-</span> <span class="fu">tribble</span>(</span>
<span id="cb4-42"><a href="#cb4-42" aria-hidden="true" tabindex="-1"></a>  <span class="sc">~</span>Horizon,     <span class="sc">~</span>a_start, <span class="sc">~</span>a_end, <span class="sc">~</span>Discount_Rate,</span>
<span id="cb4-43"><a href="#cb4-43" aria-hidden="true" tabindex="-1"></a>  <span class="st">"18–60 years"</span>, <span class="dv">18</span>,      <span class="dv">60</span>,     <span class="fl">0.02</span>,   <span class="co"># Ages 18-60, 2% discount</span></span>
<span id="cb4-44"><a href="#cb4-44" aria-hidden="true" tabindex="-1"></a>  <span class="st">"18–60 years"</span>, <span class="dv">18</span>,      <span class="dv">60</span>,     <span class="fl">0.04</span>,   <span class="co"># Ages 18-60, 4% discount</span></span>
<span id="cb4-45"><a href="#cb4-45" aria-hidden="true" tabindex="-1"></a>  <span class="st">"40–60 years"</span>, <span class="dv">40</span>,      <span class="dv">60</span>,     <span class="fl">0.02</span>,   <span class="co"># Ages 40-60, 2% discount</span></span>
<span id="cb4-46"><a href="#cb4-46" aria-hidden="true" tabindex="-1"></a>  <span class="st">"40–60 years"</span>, <span class="dv">40</span>,      <span class="dv">60</span>,     <span class="fl">0.04</span>    <span class="co"># Ages 40-60, 4% discount</span></span>
<span id="cb4-47"><a href="#cb4-47" aria-hidden="true" tabindex="-1"></a>) <span class="sc">%&gt;%</span> </span>
<span id="cb4-48"><a href="#cb4-48" aria-hidden="true" tabindex="-1"></a>  <span class="fu">rowwise</span>() <span class="sc">%&gt;%</span> </span>
<span id="cb4-49"><a href="#cb4-49" aria-hidden="true" tabindex="-1"></a>  <span class="co"># Calculate present value for each scenario</span></span>
<span id="cb4-50"><a href="#cb4-50" aria-hidden="true" tabindex="-1"></a>  <span class="fu">mutate</span>(</span>
<span id="cb4-51"><a href="#cb4-51" aria-hidden="true" tabindex="-1"></a>    <span class="at">PV_EUR =</span> <span class="fu">pv_avoided</span>(p, C, Discount_Rate, a0, a_start, a_end),</span>
<span id="cb4-52"><a href="#cb4-52" aria-hidden="true" tabindex="-1"></a>    <span class="at">PV_EUR =</span> <span class="fu">round</span>(PV_EUR, <span class="dv">1</span>)  <span class="co"># Round to 1 decimal place</span></span>
<span id="cb4-53"><a href="#cb4-53" aria-hidden="true" tabindex="-1"></a>  ) <span class="sc">%&gt;%</span> </span>
<span id="cb4-54"><a href="#cb4-54" aria-hidden="true" tabindex="-1"></a>  <span class="fu">ungroup</span>() <span class="sc">%&gt;%</span> </span>
<span id="cb4-55"><a href="#cb4-55" aria-hidden="true" tabindex="-1"></a>  <span class="co"># Format discount rate as percentage for display</span></span>
<span id="cb4-56"><a href="#cb4-56" aria-hidden="true" tabindex="-1"></a>  <span class="fu">mutate</span>(<span class="at">Discount_Rate =</span> <span class="fu">paste0</span>(Discount_Rate <span class="sc">*</span> <span class="dv">100</span>, <span class="st">"%"</span>))</span>
<span id="cb4-57"><a href="#cb4-57" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb4-58"><a href="#cb4-58" aria-hidden="true" tabindex="-1"></a><span class="co"># Display results table</span></span>
<span id="cb4-59"><a href="#cb4-59" aria-hidden="true" tabindex="-1"></a>knitr<span class="sc">::</span><span class="fu">kable</span>(</span>
<span id="cb4-60"><a href="#cb4-60" aria-hidden="true" tabindex="-1"></a>  scenarios,</span>
<span id="cb4-61"><a href="#cb4-61" aria-hidden="true" tabindex="-1"></a>  <span class="at">col.names =</span> <span class="fu">c</span>(<span class="st">"Time Horizon"</span>, <span class="st">"Start Age"</span>, <span class="st">"End Age"</span>, <span class="st">"Discount Rate"</span>, </span>
<span id="cb4-62"><a href="#cb4-62" aria-hidden="true" tabindex="-1"></a>                <span class="st">"PV Avoided Cost (EUR)"</span>),</span>
<span id="cb4-63"><a href="#cb4-63" aria-hidden="true" tabindex="-1"></a>  <span class="at">caption =</span> <span class="st">"Present value of avoided adult obesity-related medical costs per child"</span></span>
<span id="cb4-64"><a href="#cb4-64" aria-hidden="true" tabindex="-1"></a>)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</details>
</div>
</section>
</section>
</section>
<section id="results" class="level2">
<h2 class="anchored" data-anchor-id="results">Results</h2>
<section id="baseline-characteristics" class="level3">
<h3 class="anchored" data-anchor-id="baseline-characteristics">Baseline Characteristics</h3>
<p>The REPPOP cohort included <strong>354 children</strong> (62.9% girls, sex ratio 1.7) with a mean age of <strong>8.2 years (SD = 2.3)</strong> and a mean age at onset of overweight of <strong>5.8 years (SD = 2.1)</strong>. The mean baseline BMI Z-score was <strong>3.3 years (SD = 1.1); 52.5%</strong> of participants were classified as obese and <strong>47.5%</strong> as overweight. Overall, 16.6% of children had documented social difficulties. During the two-year program, participants attended on average <strong>5.6 medical, 8.1 psychological, and 8.0 dietary</strong> consultations.</p>
</section>
<section id="simulation-of-the-natural-history-of-obesity" class="level3">
<h3 class="anchored" data-anchor-id="simulation-of-the-natural-history-of-obesity">Simulation of the Natural History of Obesity</h3>
<p>In the regression model predicting BMI Z-score growth rate, a one-point increase in BMI Z-score at baseline was associated with a <strong>57% higher estimated growth rate (p &lt; 0.05)</strong>. For example, among girls aged 2–4 years, with onset of overweight at 3 years and initial BMI Z-score = 1.95 SD, the predicted growth rate was <strong>1.63 [95% CI: 1.01–2.26]</strong>.</p>
<table class="table-striped table-hover caption-top table">
<colgroup>
<col style="width: 38%">
<col style="width: 22%">
<col style="width: 21%">
<col style="width: 17%">
</colgroup>
<thead>
<tr class="header">
<th><strong>Variable</strong></th>
<th><strong>Coefficient</strong></th>
<th><strong>Std. Error</strong></th>
<th><strong>p-value</strong></th>
</tr>
</thead>
<tbody>
<tr class="odd">
<td>BMI Z-score (age 1)</td>
<td>-0.57</td>
<td>0.09</td>
<td>&lt; 0.001</td>
</tr>
<tr class="even">
<td>Male (1 = Yes)</td>
<td>0.16</td>
<td>0.27</td>
<td>0.55</td>
</tr>
<tr class="odd">
<td>Age at onset of overweight</td>
<td>-0.01</td>
<td>0.03</td>
<td>0.85</td>
</tr>
<tr class="even">
<td>Social difficulty (1 = Yes)</td>
<td>0.11</td>
<td>0.32</td>
<td>0.71</td>
</tr>
<tr class="odd">
<td>Constant</td>
<td>2.66</td>
<td>0.29</td>
<td>&lt; 0.001</td>
</tr>
<tr class="even">
<td><em>N</em></td>
<td>196</td>
<td></td>
<td></td>
</tr>
</tbody>
</table>
</section>
<section id="cost-effectiveness-analysis-1" class="level3">
<h3 class="anchored" data-anchor-id="cost-effectiveness-analysis-1">Cost-Effectiveness Analysis</h3>
<p>The mean cost per child for the two-year REPPOP intervention was €528.61 [498.26 – 559.18]. The intervention produced an average BMI Z-score reduction of 1.6 SD compared with the simulated no-treatment scenario.</p>
<p>The resulting incremental cost-effectiveness ratio (ICER) was:</p>
<p>ICER = €330.4 [217.7–482.5] per 1 SD reduction in BMI Z-score.</p>
<table class="table-striped table-hover caption-top table">
<thead>
<tr class="header">
<th><strong>Resource item</strong></th>
<th><strong>Unit cost (€)</strong></th>
<th><strong>Source</strong></th>
</tr>
</thead>
<tbody>
<tr class="odd">
<td>Medical consultation</td>
<td>30</td>
<td>Ameli/HAS</td>
</tr>
<tr class="even">
<td>Psychological consultation</td>
<td>50</td>
<td>Ameli/HAS</td>
</tr>
<tr class="odd">
<td>Dietetic consultation</td>
<td>50</td>
<td>Ameli/HAS</td>
</tr>
<tr class="even">
<td>Inclusion consultation</td>
<td>70</td>
<td>Ameli/HAS</td>
</tr>
</tbody>
</table>
<p>A non-parametric bootstrap (10 000 replications) confirmed the stability of the ICER distribution, which was visualized on the cost-effectiveness (CE) plane.</p>
</section>
<section id="efficiency-long-term-cost-offsets" class="level3">
<h3 class="anchored" data-anchor-id="efficiency-long-term-cost-offsets">Efficiency (Long-Term Cost Offsets)</h3>
<p>Using national cost-of-obesity data (mean annual medical cost = €1200), the discounted cost savings associated with the REPPOP intervention were estimated under different scenarios:</p>
<table class="table-striped table-hover caption-top table">
<colgroup>
<col style="width: 22%">
<col style="width: 22%">
<col style="width: 22%">
<col style="width: 33%">
</colgroup>
<thead>
<tr class="header">
<th><strong>Scenario</strong></th>
<th><strong>Discount rate</strong></th>
<th><strong>Time horizon</strong></th>
<th><strong>Estimated discounted cost savings (€)</strong></th>
</tr>
</thead>
<tbody>
<tr class="odd">
<td>Benefits from age 18 to 60</td>
<td>2 %</td>
<td>42 years</td>
<td>4 512.3</td>
</tr>
<tr class="even">
<td></td>
<td>4 %</td>
<td>42 years</td>
<td>3 752.1</td>
</tr>
<tr class="odd">
<td>Benefits from age 40 to 60</td>
<td>2 %</td>
<td>20 years</td>
<td>1 372.5</td>
</tr>
<tr class="even">
<td></td>
<td>4 %</td>
<td>20 years</td>
<td>761.8</td>
</tr>
</tbody>
</table>
<p>The proportion of obesity cases that would need to be prevented for the REPPOP intervention to be cost-neutral over the 18–60 year period was estimated at <strong>15%</strong> (close to the observed 16%).</p>
<p>Table: Present value of avoided adult obesity-related medical costs per child</p>
<div class="striped hover">
<table class="caption-top table">
<colgroup>
<col style="width: 19%">
<col style="width: 15%">
<col style="width: 12%">
<col style="width: 20%">
<col style="width: 31%">
</colgroup>
<thead>
<tr class="header">
<th style="text-align: left;">Time Horizon</th>
<th style="text-align: right;">Start Age</th>
<th style="text-align: right;">End Age</th>
<th style="text-align: left;">Discount Rate</th>
<th style="text-align: right;">PV Avoided Cost (EUR)</th>
</tr>
</thead>
<tbody>
<tr class="odd">
<td style="text-align: left;">18–60 years</td>
<td style="text-align: right;">18</td>
<td style="text-align: right;">60</td>
<td style="text-align: left;">2%</td>
<td style="text-align: right;">4558.2</td>
</tr>
<tr class="even">
<td style="text-align: left;">18–60 years</td>
<td style="text-align: right;">18</td>
<td style="text-align: right;">60</td>
<td style="text-align: left;">4%</td>
<td style="text-align: right;">2749.3</td>
</tr>
<tr class="odd">
<td style="text-align: left;">40–60 years</td>
<td style="text-align: right;">40</td>
<td style="text-align: right;">60</td>
<td style="text-align: left;">2%</td>
<td style="text-align: right;">1707.5</td>
</tr>
<tr class="even">
<td style="text-align: left;">40–60 years</td>
<td style="text-align: right;">40</td>
<td style="text-align: right;">60</td>
<td style="text-align: left;">4%</td>
<td style="text-align: right;">781.0</td>
</tr>
</tbody>
</table>
</div>
</section>
</section>
<section id="cost-effectiveness-plane-bootstrap-distribution" class="level2">
<h2 class="anchored" data-anchor-id="cost-effectiveness-plane-bootstrap-distribution">Cost-Effectiveness Plane (Bootstrap Distribution)</h2>
<div class="quarto-figure quarto-figure-center">
<figure class="figure">
<p><img src="images/Bootstrap_finale.png" class="img-fluid figure-img"></p>
<figcaption>Fig: Cost-effectiveness (CE) plane showing the bootstrap distribution of incremental costs (ΔĈ) versus incremental effects (ΔÊ).</figcaption>
</figure>
</div>
</section>
<section id="limitations" class="level2">
<h2 class="anchored" data-anchor-id="limitations">Limitations</h2>
<ul>
<li><p>Selection bias in cohort (motivated families); no randomization</p></li>
<li><p>Delta E (1.6 SD) from severe subset; broader REPPOP data suggest 0.5-1.0 SD over 2 years.</p></li>
<li><p>Long-term: Assumes lifelong persistence; no indirect costs</p></li>
<li><p>Model assumptions (linearity, normality); future GAM/Monte Carlo recommended.</p></li>
<li><p>Costs: Direct only; updated but sensitive to inflation</p></li>
</ul>
</section>
<section id="interpretation-key-takeaways" class="level2">
<h2 class="anchored" data-anchor-id="interpretation-key-takeaways">Interpretation &amp; Key Takeaways</h2>
<ul>
<li>The REPPOP program reduced BMI Z-score by <strong>1.6 SD</strong> over two years compared with the simulated no-intervention scenario.<br>
</li>
<li>Mean program cost per child (2-year REPPOP): <strong>€528.6</strong><br>
</li>
<li>The <strong>mean cost per child</strong> was <strong>€528.6.5</strong>, resulting in an <strong>ICER of €330 per one-unit BMI Z-score reduction</strong>, a moderate cost for meaningful clinical benefit.<br>
</li>
<li>REPPOP falls in the <strong>northeast quadrant</strong> of the CE plane (more costly but more effective), consistent with preventive public health interventions.<br>
</li>
<li>Compared with published studies, REPPOP demonstrated <strong>stronger clinical effectiveness</strong> and <strong>competitive cost-efficiency</strong>.<br>
</li>
<li>Findings highlight the <strong>economic value of multidisciplinary obesity management programs</strong> in children, especially with updated costs showing enhanced long-term offsets.</li>
</ul>


</section>

<p>Ousmane Diallo, MPH-PhD – Biostatistician &amp; Epidemiologist based in Chicago, Illinois, USA. Specializing in SAS programming, CDISC standards, and real-world evidence for clinical research.</p><a onclick="window.scrollTo(0, 0); return false;" role="button" id="quarto-back-to-top"><i class="bi bi-arrow-up"></i> Back to top</a></main> <!-- /main -->
<script id="quarto-html-after-body" type="application/javascript">
window.document.addEventListener("DOMContentLoaded", function (event) {
  const toggleBodyColorMode = (bsSheetEl) => {
    const mode = bsSheetEl.getAttribute("data-mode");
    const bodyEl = window.document.querySelector("body");
    if (mode === "dark") {
      bodyEl.classList.add("quarto-dark");
      bodyEl.classList.remove("quarto-light");
    } else {
      bodyEl.classList.add("quarto-light");
      bodyEl.classList.remove("quarto-dark");
    }
  }
  const toggleBodyColorPrimary = () => {
    const bsSheetEl = window.document.querySelector("link#quarto-bootstrap");
    if (bsSheetEl) {
      toggleBodyColorMode(bsSheetEl);
    }
  }
  toggleBodyColorPrimary();  
  const icon = "";
  const anchorJS = new window.AnchorJS();
  anchorJS.options = {
    placement: 'right',
    icon: icon
  };
  anchorJS.add('.anchored');
  const isCodeAnnotation = (el) => {
    for (const clz of el.classList) {
      if (clz.startsWith('code-annotation-')) {                     
        return true;
      }
    }
    return false;
  }
  const onCopySuccess = function(e) {
    // button target
    const button = e.trigger;
    // don't keep focus
    button.blur();
    // flash "checked"
    button.classList.add('code-copy-button-checked');
    var currentTitle = button.getAttribute("title");
    button.setAttribute("title", "Copied!");
    let tooltip;
    if (window.bootstrap) {
      button.setAttribute("data-bs-toggle", "tooltip");
      button.setAttribute("data-bs-placement", "left");
      button.setAttribute("data-bs-title", "Copied!");
      tooltip = new bootstrap.Tooltip(button, 
        { trigger: "manual", 
          customClass: "code-copy-button-tooltip",
          offset: [0, -8]});
      tooltip.show();    
    }
    setTimeout(function() {
      if (tooltip) {
        tooltip.hide();
        button.removeAttribute("data-bs-title");
        button.removeAttribute("data-bs-toggle");
        button.removeAttribute("data-bs-placement");
      }
      button.setAttribute("title", currentTitle);
      button.classList.remove('code-copy-button-checked');
    }, 1000);
    // clear code selection
    e.clearSelection();
  }
  const getTextToCopy = function(trigger) {
      const codeEl = trigger.previousElementSibling.cloneNode(true);
      for (const childEl of codeEl.children) {
        if (isCodeAnnotation(childEl)) {
          childEl.remove();
        }
      }
      return codeEl.innerText;
  }
  const clipboard = new window.ClipboardJS('.code-copy-button:not([data-in-quarto-modal])', {
    text: getTextToCopy
  });
  clipboard.on('success', onCopySuccess);
  if (window.document.getElementById('quarto-embedded-source-code-modal')) {
    // For code content inside modals, clipBoardJS needs to be initialized with a container option
    // TODO: Check when it could be a function (https://github.com/zenorocha/clipboard.js/issues/860)
    const clipboardModal = new window.ClipboardJS('.code-copy-button[data-in-quarto-modal]', {
      text: getTextToCopy,
      container: window.document.getElementById('quarto-embedded-source-code-modal')
    });
    clipboardModal.on('success', onCopySuccess);
  }
    var localhostRegex = new RegExp(/^(?:http|https):\/\/localhost\:?[0-9]*\//);
    var mailtoRegex = new RegExp(/^mailto:/);
      var filterRegex = new RegExp("https:\/\/ousmanediallo\.com");
    var isInternal = (href) => {
        return filterRegex.test(href) || localhostRegex.test(href) || mailtoRegex.test(href);
    }
    // Inspect non-navigation links and adorn them if external
 	var links = window.document.querySelectorAll('a[href]:not(.nav-link):not(.navbar-brand):not(.toc-action):not(.sidebar-link):not(.sidebar-item-toggle):not(.pagination-link):not(.no-external):not([aria-hidden]):not(.dropdown-item):not(.quarto-navigation-tool):not(.about-link)');
    for (var i=0; i<links.length; i++) {
      const link = links[i];
      if (!isInternal(link.href)) {
        // undo the damage that might have been done by quarto-nav.js in the case of
        // links that we want to consider external
        if (link.dataset.originalHref !== undefined) {
          link.href = link.dataset.originalHref;
        }
      }
    }
  function tippyHover(el, contentFn, onTriggerFn, onUntriggerFn) {
    const config = {
      allowHTML: true,
      maxWidth: 500,
      delay: 100,
      arrow: false,
      appendTo: function(el) {
          return el.parentElement;
      },
      interactive: true,
      interactiveBorder: 10,
      theme: 'quarto',
      placement: 'bottom-start',
    };
    if (contentFn) {
      config.content = contentFn;
    }
    if (onTriggerFn) {
      config.onTrigger = onTriggerFn;
    }
    if (onUntriggerFn) {
      config.onUntrigger = onUntriggerFn;
    }
    window.tippy(el, config); 
  }
  const noterefs = window.document.querySelectorAll('a[role="doc-noteref"]');
  for (var i=0; i<noterefs.length; i++) {
    const ref = noterefs[i];
    tippyHover(ref, function() {
      // use id or data attribute instead here
      let href = ref.getAttribute('data-footnote-href') || ref.getAttribute('href');
      try { href = new URL(href).hash; } catch {}
      const id = href.replace(/^#\/?/, "");
      const note = window.document.getElementById(id);
      if (note) {
        return note.innerHTML;
      } else {
        return "";
      }
    });
  }
  const xrefs = window.document.querySelectorAll('a.quarto-xref');
  const processXRef = (id, note) => {
    // Strip column container classes
    const stripColumnClz = (el) => {
      el.classList.remove("page-full", "page-columns");
      if (el.children) {
        for (const child of el.children) {
          stripColumnClz(child);
        }
      }
    }
    stripColumnClz(note)
    if (id === null || id.startsWith('sec-')) {
      // Special case sections, only their first couple elements
      const container = document.createElement("div");
      if (note.children && note.children.length > 2) {
        container.appendChild(note.children[0].cloneNode(true));
        for (let i = 1; i < note.children.length; i++) {
          const child = note.children[i];
          if (child.tagName === "P" && child.innerText === "") {
            continue;
          } else {
            container.appendChild(child.cloneNode(true));
            break;
          }
        }
        if (window.Quarto?.typesetMath) {
          window.Quarto.typesetMath(container);
        }
        return container.innerHTML
      } else {
        if (window.Quarto?.typesetMath) {
          window.Quarto.typesetMath(note);
        }
        return note.innerHTML;
      }
    } else {
      // Remove any anchor links if they are present
      const anchorLink = note.querySelector('a.anchorjs-link');
      if (anchorLink) {
        anchorLink.remove();
      }
      if (window.Quarto?.typesetMath) {
        window.Quarto.typesetMath(note);
      }
      // TODO in 1.5, we should make sure this works without a callout special case
      if (note.classList.contains("callout")) {
        return note.outerHTML;
      } else {
        return note.innerHTML;
      }
    }
  }
  for (var i=0; i<xrefs.length; i++) {
    const xref = xrefs[i];
    tippyHover(xref, undefined, function(instance) {
      instance.disable();
      let url = xref.getAttribute('href');
      let hash = undefined; 
      if (url.startsWith('#')) {
        hash = url;
      } else {
        try { hash = new URL(url).hash; } catch {}
      }
      if (hash) {
        const id = hash.replace(/^#\/?/, "");
        const note = window.document.getElementById(id);
        if (note !== null) {
          try {
            const html = processXRef(id, note.cloneNode(true));
            instance.setContent(html);
          } finally {
            instance.enable();
            instance.show();
          }
        } else {
          // See if we can fetch this
          fetch(url.split('#')[0])
          .then(res => res.text())
          .then(html => {
            const parser = new DOMParser();
            const htmlDoc = parser.parseFromString(html, "text/html");
            const note = htmlDoc.getElementById(id);
            if (note !== null) {
              const html = processXRef(id, note);
              instance.setContent(html);
            } 
          }).finally(() => {
            instance.enable();
            instance.show();
          });
        }
      } else {
        // See if we can fetch a full url (with no hash to target)
        // This is a special case and we should probably do some content thinning / targeting
        fetch(url)
        .then(res => res.text())
        .then(html => {
          const parser = new DOMParser();
          const htmlDoc = parser.parseFromString(html, "text/html");
          const note = htmlDoc.querySelector('main.content');
          if (note !== null) {
            // This should only happen for chapter cross references
            // (since there is no id in the URL)
            // remove the first header
            if (note.children.length > 0 && note.children[0].tagName === "HEADER") {
              note.children[0].remove();
            }
            const html = processXRef(null, note);
            instance.setContent(html);
          } 
        }).finally(() => {
          instance.enable();
          instance.show();
        });
      }
    }, function(instance) {
    });
  }
      let selectedAnnoteEl;
      const selectorForAnnotation = ( cell, annotation) => {
        let cellAttr = 'data-code-cell="' + cell + '"';
        let lineAttr = 'data-code-annotation="' +  annotation + '"';
        const selector = 'span[' + cellAttr + '][' + lineAttr + ']';
        return selector;
      }
      const selectCodeLines = (annoteEl) => {
        const doc = window.document;
        const targetCell = annoteEl.getAttribute("data-target-cell");
        const targetAnnotation = annoteEl.getAttribute("data-target-annotation");
        const annoteSpan = window.document.querySelector(selectorForAnnotation(targetCell, targetAnnotation));
        const lines = annoteSpan.getAttribute("data-code-lines").split(",");
        const lineIds = lines.map((line) => {
          return targetCell + "-" + line;
        })
        let top = null;
        let height = null;
        let parent = null;
        if (lineIds.length > 0) {
            //compute the position of the single el (top and bottom and make a div)
            const el = window.document.getElementById(lineIds[0]);
            top = el.offsetTop;
            height = el.offsetHeight;
            parent = el.parentElement.parentElement;
          if (lineIds.length > 1) {
            const lastEl = window.document.getElementById(lineIds[lineIds.length - 1]);
            const bottom = lastEl.offsetTop + lastEl.offsetHeight;
            height = bottom - top;
          }
          if (top !== null && height !== null && parent !== null) {
            // cook up a div (if necessary) and position it 
            let div = window.document.getElementById("code-annotation-line-highlight");
            if (div === null) {
              div = window.document.createElement("div");
              div.setAttribute("id", "code-annotation-line-highlight");
              div.style.position = 'absolute';
              parent.appendChild(div);
            }
            div.style.top = top - 2 + "px";
            div.style.height = height + 4 + "px";
            div.style.left = 0;
            let gutterDiv = window.document.getElementById("code-annotation-line-highlight-gutter");
            if (gutterDiv === null) {
              gutterDiv = window.document.createElement("div");
              gutterDiv.setAttribute("id", "code-annotation-line-highlight-gutter");
              gutterDiv.style.position = 'absolute';
              const codeCell = window.document.getElementById(targetCell);
              const gutter = codeCell.querySelector('.code-annotation-gutter');
              gutter.appendChild(gutterDiv);
            }
            gutterDiv.style.top = top - 2 + "px";
            gutterDiv.style.height = height + 4 + "px";
          }
          selectedAnnoteEl = annoteEl;
        }
      };
      const unselectCodeLines = () => {
        const elementsIds = ["code-annotation-line-highlight", "code-annotation-line-highlight-gutter"];
        elementsIds.forEach((elId) => {
          const div = window.document.getElementById(elId);
          if (div) {
            div.remove();
          }
        });
        selectedAnnoteEl = undefined;
      };
        // Handle positioning of the toggle
    window.addEventListener(
      "resize",
      throttle(() => {
        elRect = undefined;
        if (selectedAnnoteEl) {
          selectCodeLines(selectedAnnoteEl);
        }
      }, 10)
    );
    function throttle(fn, ms) {
    let throttle = false;
    let timer;
      return (...args) => {
        if(!throttle) { // first call gets through
            fn.apply(this, args);
            throttle = true;
        } else { // all the others get throttled
            if(timer) clearTimeout(timer); // cancel #2
            timer = setTimeout(() => {
              fn.apply(this, args);
              timer = throttle = false;
            }, ms);
        }
      };
    }
      // Attach click handler to the DT
      const annoteDls = window.document.querySelectorAll('dt[data-target-cell]');
      for (const annoteDlNode of annoteDls) {
        annoteDlNode.addEventListener('click', (event) => {
          const clickedEl = event.target;
          if (clickedEl !== selectedAnnoteEl) {
            unselectCodeLines();
            const activeEl = window.document.querySelector('dt[data-target-cell].code-annotation-active');
            if (activeEl) {
              activeEl.classList.remove('code-annotation-active');
            }
            selectCodeLines(clickedEl);
            clickedEl.classList.add('code-annotation-active');
          } else {
            // Unselect the line
            unselectCodeLines();
            clickedEl.classList.remove('code-annotation-active');
          }
        });
      }
  const findCites = (el) => {
    const parentEl = el.parentElement;
    if (parentEl) {
      const cites = parentEl.dataset.cites;
      if (cites) {
        return {
          el,
          cites: cites.split(' ')
        };
      } else {
        return findCites(el.parentElement)
      }
    } else {
      return undefined;
    }
  };
  var bibliorefs = window.document.querySelectorAll('a[role="doc-biblioref"]');
  for (var i=0; i<bibliorefs.length; i++) {
    const ref = bibliorefs[i];
    const citeInfo = findCites(ref);
    if (citeInfo) {
      tippyHover(citeInfo.el, function() {
        var popup = window.document.createElement('div');
        citeInfo.cites.forEach(function(cite) {
          var citeDiv = window.document.createElement('div');
          citeDiv.classList.add('hanging-indent');
          citeDiv.classList.add('csl-entry');
          var biblioDiv = window.document.getElementById('ref-' + cite);
          if (biblioDiv) {
            citeDiv.innerHTML = biblioDiv.innerHTML;
          }
          popup.appendChild(citeDiv);
        });
        return popup.innerHTML;
      });
    }
  }
});
</script>
</div> <!-- /content -->
<footer class="footer">
  <div class="nav-footer">
    <div class="nav-footer-left">
      &nbsp;
    </div>   
    <div class="nav-footer-center">
      <ul class="footer-items list-unstyled">
    <li class="nav-item">
 Website by Ousmane Diallo | © 2025 |
  </li>  
    <li class="nav-item compact">
    <a class="nav-link" href="https://github.com/ousmanerabi" target="_blank">
      <i class="bi bi-github" role="img" aria-label="GitHub">
</i> 
    </a>
  </li>  
    <li class="nav-item compact">
    <a class="nav-link" href="https://linkedin.com/in/ousmane-diallo8" target="_blank">
      <i class="bi bi-linkedin" role="img" aria-label="LinkedIn">
</i> 
    </a>
  </li>  
</ul>
    </div>
    <div class="nav-footer-right">
      &nbsp;
    </div>
  </div>
</footer>




</body></html>